<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      Its WOLFIX Journal
    </title>
    <link rel="icon" href="/icon2.png" type="image/icon type">
    <link rel="stylesheet" href="/style.css" />
    <meta name="description"
        content="Creating resilient web applications that work without an internet connection using service workers and modern browser APIs." />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism-tomorrow.min.css">
    <style>
      :root {
    --bg-color: #ffffff;
    --text-color: #222222;
    --accent-color: #5f4b8b;
    --muted-color: #777777;
    --border-color: #eaeaea;
    --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    --font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
    }
    
    /* Default theme = Daylight */
    body.daylight {
    --bg-color: #ffffff;
    --text-color: #222222;
    --accent-color: #5f4b8b;
    --muted-color: #777777;
    --border-color: #eaeaea;
    }
    
    /* Night Howl theme */
    body.night-howl {
    --bg-color: #0f111a;
    --text-color: #d8e1ea;
    --accent-color: #9575cd;
    --muted-color: #a0aec0;
    --border-color: #2d3748;
    }
    
    /* Night Mind theme */
    body.night-mind {
    --bg-color: #181221;
    --accent-color: #FFBAAD;
    --text-color: #E4DEED;
    --muted-color: #E4DEED;
    --border-color: #2d3748;
    }
    
    * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
    }
    
    body {
    font-family: var(--font-sans);
    background-color: var(--bg-color);
    color: var(--text-color);
    line-height: 1.7;
    font-size: 1.05rem;
    max-width: 640px;
    margin: 0 auto;
    padding: 2rem 1rem;
    transition: background-color 0.5s ease, color 0.5s ease;
    scroll-behavior: smooth;
    }
    
    a {
    color: var(--accent-color);
    text-decoration: none;
    border-bottom: 1px solid transparent;
    transition: border-color 0.2s;
    }
    
    a:hover {
    border-bottom: 1px solid var(--accent-color);
    text-decoration: none;
    }
    
    header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 2rem;
    }
    
    .logo {
    font-size: 1.2rem;
    font-weight: 600;
    color: var(--text-color);
    font-family: var(--font-mono);
    }
    
    nav ul {
    display: flex;
    list-style: none;
    gap: 1.5rem;
    }
    
    nav a {
    color: var(--text-color);
    font-size: 0.9rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    font-weight: 500;
    }
    
    /* Theme toggle styles */
    .theme-toggle {
    display: flex;
    justify-content: center;
    gap: 0.75rem;
    margin-bottom: 3rem;
    }
    
    .theme-button {
    background: none;
    border: 1px solid var(--border-color);
    border-radius: 20px;
    padding: 0.5rem 1rem;
    font-size: 0.85rem;
    font-family: var(--font-sans);
    color: var(--text-color);
    cursor: pointer;
    transition: all 0.2s ease;
    }
    
    .theme-button:hover {
    background-color: var(--border-color);
    }
    
    .theme-button.active {
    border-color: var(--accent-color);
    color: var(--accent-color);
    }
    
    .hero {
    margin-bottom: 5rem;
    }
    
    .hero h1 {
    font-size: 2rem;
    line-height: 1.3;
    margin-bottom: 1rem;
    font-weight: 700;
    }
    
    .hero p {
    color: var(--muted-color);
    font-size: 1.1rem;
    }
    
    h2 {
    font-size: 1.4rem;
    margin-bottom: 2rem;
    font-weight: 600;
    }
    
    .post-list {
    display: flex;
    flex-direction: column;
    gap: 3rem;
    margin-bottom: 2rem;
    }
    
    .post {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    padding-bottom: 1rem;
    }
    
    .post h3 {
    font-size: 1.3rem;
    font-weight: 600;
    line-height: 1.3;
    }
    
    .post-meta {
    font-size: 0.85rem;
    color: var(--muted-color);
    font-family: var(--font-mono);
    }
    
    .post p {
    margin-top: 0.5rem;
    }
    
    .tags {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    margin-top: 1rem;
    }
    
    .tag {
    display: inline-block;
    font-size: 0.75rem;
    font-family: var(--font-mono);
    color: var(--muted-color);
    }
    
    .tag:not(:last-child)::after {
    content: "‚Ä¢";
    margin-left: 0.5rem;
    color: var(--muted-color);
    }
    
    /* See more link style */
    .see-more-link {
    display: inline-block;
    margin: 1rem 0 3rem;
    font-family: var(--font-mono);
    font-size: 0.9rem;
    color: var(--accent-color);
    border-bottom: none;
    transition: transform 0.2s ease;
    }
    
    .see-more-link:hover {
    border-bottom: none;
    transform: translateX(5px);
    }
    
    footer {
    margin-top: 6rem;
    padding-top: 2rem;
    border-top: 1px solid var(--border-color);
    color: var(--muted-color);
    font-size: 0.85rem;
    }
    
    .social-links {
    display: flex;
    gap: 1.5rem;
    margin: 1rem 0;
    }
    
    .social-links a {
    color: var(--muted-color);
    font-family: var(--font-mono);
    font-size: 0.8rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    }
    
    /* Code block styling */
    code {
    font-family: var(--font-mono);
    font-size: 0.9em;
    background-color: var(--border-color);
    padding: 0.2em 0.4em;
    border-radius: 3px;
    }
    
    pre {
    background-color: var(--border-color);
    padding: 1rem;
    border-radius: 5px;
    overflow-x: auto;
    margin: 1.5rem 0;
    }
    
    pre code {
    background-color: transparent;
    padding: 0;
    }
    
    /* Blog post specific styles */
    .blog-post {
    max-width: 100%;
    }
    
    .blog-post h1 {
    font-size: 2rem;
    line-height: 1.3;
    margin-bottom: 1rem;
    font-weight: 700;
    }
    
    .blog-post h2 {
    font-size: 1.5rem;
    margin-top: 2.5rem;
    margin-bottom: 1.25rem;
    font-weight: 600;
    }
    
    .blog-post p {
    margin-bottom: 1.25rem;
    }
    
    .blog-post ol,
    .blog-post ul {
    margin-left: 1.5rem;
    margin-bottom: 1.25rem;
    }
    
    .blog-post li {
    margin-bottom: 0.5rem;
    }
    
    .blog-post .post-meta {
    font-size: 0.85rem;
    color: var(--muted-color);
    font-family: var(--font-mono);
    margin-bottom: 1rem;
    }
    
    .blog-post .tags {
    margin-bottom: 2rem;
    }
    
    /* Fix for original tag display */
    .tags[data-tags] .tag {
    margin-right: 0.5rem;
    }
    
    /* For backwards compatibility with your original JavaScript tag generation */
    .tags[data-tags] .tag::after {
    content: "";
    margin-left: 0;
    }
    
    /* Relaxing scroll effect */
    html {
    scroll-behavior: smooth;
    }
    
    * {
    scrollbar-width: thin;
    scrollbar-color: var(--accent-color) var(--bg-color);
    }
    
    /* Webkit browsers custom scrollbar */
    ::-webkit-scrollbar {
    width: 8px;
    }
    
    ::-webkit-scrollbar-track {
    background: var(--bg-color);
    }
    
    ::-webkit-scrollbar-thumb {
    background-color: var(--accent-color);
    border-radius: 20px;
    border: 2px solid var(--bg-color);
    }
    </style>
</head>
<body>
  <header>
    <a href="/index.html" class="logo">
      <img style="width: 25px; margin: -6px;" src="/icon2.png" alt="icon logo">
      ItsWOLFIX.Journal</a>
    <nav aria-label="Main navigation">
        <ul>
            <a href="/index.html">Home</a>
            <a href="/Posts.html">Posts</a>
            <a href="/projects.html">Projects</a>
            <li><a href="https://github.com/itsW0LFIX">About</a></li>
        </ul>
    </nav>
</header>

<div class="theme-toggle">
  <button id="daylight" class="theme-button active">üåû Daylight</button>
  <button id="night-howl" class="theme-button">üê∫ Night Howl</button>
  <button id="night-mind" class="theme-button">üß† Night Mind</button>
</div>
    <main>
        <article class="blog-post">
            <header>
                <div class="post-meta">May 10, 2025</div>
                <h1>Building Offline-Capable Web Applications</h1>
                <div class="tags">
                    <span class="tag">progressive-web-apps</span>
                    <span class="tag">javascript</span>
                    <span class="tag">performance</span>
                </div>
            </header>

            <section>
                <p>
                    In today's mobile-first world, users expect web applications to work regardless of their network conditions. Building offline-capable applications isn't just about accommodating users with poor connectivity‚Äîit's about creating resilient experiences that feel like native apps.
                </p>

                <h2>The Service Worker Foundation</h2>
                <p>
                    Service workers act as proxies between the web application and the network, enabling offline functionality, background syncing, and push notifications. Here's how to register a basic service worker:
                </p>

<pre><code class="language-javascript">
if ('serviceWorker' in navigator) {
  window.addEventListener('load', () => {
    navigator.serviceWorker.register('/service-worker.js')
      .then(registration => {
        console.log('ServiceWorker registered with scope:', registration.scope);
      })
      .catch(error => {
        console.error('ServiceWorker registration failed:', error);
      });
  });
}
</code></pre>

                <h2>Caching Strategies</h2>
                <p>
                    The core of offline capability is implementing the right caching strategy for different resources:
                </p>

<pre><code class="language-javascript">
// Inside service-worker.js
const CACHE_NAME = 'app-v1';
const STATIC_ASSETS = [
  '/',
  '/index.html',
  '/style.css',
  '/app.js',
  '/images/logo.svg'
];

// Cache-first strategy for static assets
self.addEventListener('fetch', event => {
  const request = event.request;
  
  // For HTML documents, use network-first strategy
  if (request.headers.get('Accept').includes('text/html')) {
    event.respondWith(
      fetch(request)
        .then(response => {
          const clonedResponse = response.clone();
          caches.open(CACHE_NAME)
            .then(cache => cache.put(request, clonedResponse));
          return response;
        })
        .catch(() => caches.match(request))
    );
    return;
  }
  
  // For other assets, use cache-first
  event.respondWith(
    caches.match(request)
      .then(cachedResponse => {
        if (cachedResponse) {
          // Return cached response
          return cachedResponse;
        }
        // Not in cache, get from network
        return fetch(request).then(response => {
          // Only cache valid responses
          if (!response || response.status !== 200 || response.type !== 'basic') {
            return response;
          }
          
          const responseToCache = response.clone();
          caches.open(CACHE_NAME)
            .then(cache => {
              cache.put(request, responseToCache);
            });
            
          return response;
        });
      })
  );
});
</code></pre>

                <h2>Handling Dynamic Data</h2>
                <p>
                    For applications that deal with dynamic data, IndexedDB provides a client-side database solution:
                </p>

<pre><code class="language-javascript">
function saveTasksToIndexedDB(tasks) {
  const dbPromise = indexedDB.open('tasks-db', 1, upgradeDB => {
    if (!upgradeDB.objectStoreNames.contains('tasks')) {
      upgradeDB.createObjectStore('tasks', { keyPath: 'id' });
    }
  });
  
  return dbPromise.then(db => {
    const tx = db.transaction('tasks', 'readwrite');
    const store = tx.objectStore('tasks');
    
    tasks.forEach(task => store.put(task));
    
    return tx.complete;
  });
}

function loadTasksFromIndexedDB() {
  const dbPromise = indexedDB.open('tasks-db', 1);
  
  return dbPromise.then(db => {
    const tx = db.transaction('tasks', 'readonly');
    const store = tx.objectStore('tasks');
    
    return store.getAll();
  });
}
</code></pre>

                <h2>Background Sync</h2>
                <p>
                    For operations that require server interaction (like posting data), the Background Sync API ensures requests complete even when connectivity is restored after the user has left your app:
                </p>

<pre><code class="language-javascript">
function postDataWithBackgroundSync(data) {
  // First try the direct approach
  return fetch('/api/data', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json'
    },
    body: JSON.stringify(data)
  })
  .catch(() => {
    // If it fails, store data and register for background sync
    return storeInIndexedDBForSync(data)
      .then(() => {
        if ('serviceWorker' in navigator && 'SyncManager' in window) {
          return navigator.serviceWorker.ready
            .then(registration => registration.sync.register('sync-data'));
        }
        // Fall back if Background Sync not supported
        return Promise.reject(new Error('Background Sync not supported'));
      });
  });
}

// In service worker
self.addEventListener('sync', event => {
  if (event.tag === 'sync-data') {
    event.waitUntil(
      getPendingDataFromIndexedDB()
        .then(data => {
          return Promise.all(data.map(item => 
            fetch('/api/data', {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json'
              },
              body: JSON.stringify(item)
            })
            .then(() => removeFromPendingDataInIndexedDB(item.id))
          ));
        })
    );
  }
});
</code></pre>

                <h2>App Manifest for "Add to Home Screen"</h2>
                <p>
                    To provide a more app-like experience, include a Web App Manifest:
                </p>

<pre><code class="language-json">
{
  "name": "Task Manager",
  "short_name": "Tasks",
  "start_url": "/",
  "display": "standalone",
  "background_color": "#5f4b8b",
  "theme_color": "#5f4b8b",
  "icons": [
    {
      "src": "/icons/icon-192.png",
      "sizes": "192x192",
      "type": "image/png"
    },
    {
      "src": "/icons/icon-512.png",
      "sizes": "512x512",
      "type": "image/png"
    }
  ]
}
</code></pre>

                <h2>User Experience Considerations</h2>
                <p>Technology alone isn't enough‚Äîdesign your application with offline-first principles:</p>
                <ol>
                    <li>Provide clear indicators of network status</li>
                    <li>Cache essential functionality and content first</li>
                    <li>Gracefully degrade features when offline rather than disabling them entirely</li>
                    <li>Use optimistic UI updates with background synchronization</li>
                </ol>

                <h2>Conclusion</h2>
                <p>
                    Building offline-capable web applications requires thoughtful architecture and an understanding of service workers, caching strategies, and client-side storage. When implemented well, these techniques create resilient applications that provide value to users regardless of network conditions.
                </p>
                <p>
                    In my next post, I'll explore techniques for testing offline functionality and debugging service workers, which can be challenging due to their background execution context and lifecycle.
                </p>
            </section>
        </article>
    </main>

    <footer>
      <div class="footer-grid">
        <div class="footer-section">
          <h4>ItsWOLFIX.Journal</h4>
          <p>
            Notes on modern web development and crafting thoughtful user
            experiences.
          </p>
          <div class="social-links">
            <a
              href="https://twitter.com"
              target="_blank"
              rel="noopener noreferrer"
              >Twitter</a
            >
            <a
              href="https://github.com/itsW0LFIX"
              target="_blank"
              rel="noopener noreferrer"
              >GitHub</a
            >
            <a
              href="https://linkedin.com"
              target="_blank"
              rel="noopener noreferrer"
              >LinkedIn</a
            >
          </div>
        </div>

        <div class="footer-section">
          <h4>Navigation</h4>
          <ul class="footer-nav">
            <li><a href="/index.html">Home</a></li>
            <li><a href="/Posts.html">All Posts</a></li>
            <li><a href="https://github.com/itsW0LFIX">About</a></li>
          </ul>
        </div>

        <div class="footer-section">
          <h4>Popular Tags</h4>
          <div class="tag-cloud">
            <a href="/Posts.html" class="footer-tag">javascript</a>
            <a href="/Posts.html" class="footer-tag">css</a>
            <a href="/Posts.html" class="footer-tag">react</a>
            <a href="/Posts.html" class="footer-tag">accessibility</a>
            <a href="/Posts.html" class="footer-tag">performance</a>
            <a href="/Posts.html" class="footer-tag">sustainability</a>
          </div>
        </div>

        <div class="footer-section">
          <h4>Subscribe</h4>
          <p>Get notified about new posts and updates.</p>
          <form class="subscribe-form" id="subscribe-form">
            <input type="email" placeholder="Your email" required />
            <button type="submit">Subscribe</button>
          </form>
        </div>
        
      </div>

      <div class="footer-bottom">
        <p>¬© 2025 ItsWOLFIX.Journal</p>
        <p class="footer-meta">Built with Yara/WOLFIX using modern web technologies</p>
      </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-jsx.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-json.min.js"></script>

    <script src="/theme.js"></script>
</body>

</html>